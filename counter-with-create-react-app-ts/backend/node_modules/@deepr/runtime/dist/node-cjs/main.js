"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.invokeQuery = void 0;
const parser_1 = require("./parser");
const runtime_1 = require("./runtime");
function invokeQuery(root, query, { context, ignoreKeys, acceptKeys, ignoreBuiltInKeys, authorizer, errorHandler } = {}) {
    if (root === undefined) {
        throw new Error(`The 'root' parameter is missing`);
    }
    if (query === undefined) {
        throw new Error(`The 'query' parameter is missing`);
    }
    const expression = parser_1.parseQuery(query, { ignoreKeys, acceptKeys, ignoreBuiltInKeys });
    const result = runtime_1.invokeExpression(root, expression, { context, authorizer, errorHandler });
    return result;
}
exports.invokeQuery = invokeQuery;
//# sourceMappingURL=main.js.map